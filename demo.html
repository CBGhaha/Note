<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
</body>
</html>
<script>
  // 字符串的截取
  // subStr: 截取指定开始索引 制定长度的字符串
  // substring: 截取指定开始索引start和end间的字符串
  
  // 数组的截取
  // slice：截取指定开始索引start和end间的元素

//   function shallowClone(target){
//     if(typeof target !== 'object' || target === null) return target;
//     const returnTarget = Array.isArray(target) ? [] : {};
//     for(let i in target){
//       returnTarget[i] = target[i];
//     }
//     return returnTarget;
//   }
//   function deepClone(target){
//     if(typeof target !== 'object' || target === null) return target;
//     const returnTarget = Array.isArray(target) ? [] : {};
//     for(let i in target){
//         const curVal = target[i];
//         returnTarget[i] = deepClone(target[i])
//     }
//     return returnTarget;
//   }

// console.log("deepClone:", deepClone({a:1, b:2}))


function getMiddle(arr, start, end){

  let middleVal = arr[Math.floor((start+end)/2)];
  
  while(start<end){
    // debugger
      while(arr[start]<middleVal){
        start++
      }
      while(arr[end]>middleVal){
        end--
      }
      if(start<end){
        [arr[start],arr[end]] = [arr[end], arr[start]];
        start++;
        end--;
      }
  }
  return start-1;
}
function sortPart(arr, start, end){
  const middle  = getMiddle(arr, start, end);
  debugger
  if(middle>start&&middle<end){
    sortPart(arr, start, middle);
  }
  // 从middle+1开始
  if(middle+1<end){
    sortPart(arr, middle+1, end);
  }
}
function sort(arr){
  sortPart(arr, 0, arr.length-1);
}
arr = [1,3,9,3,6,7,10,0,8];
sort(arr)
console.log(arr)

class Subject{
  constructor(initState){
    this.state = initState;
    this.observers = [];
  }
  attach(observer){
    this.observers.push(observer)
  }
  setState(state){
    this.state = state;
    this.observers.forEach(i=>i.patch(this))
  }
}
class Observer{
  constructor(){

  }
  patch(suject){
    // .. todos
  }
}
const subject = new Subject({name:''})
const observer1 = new Observer();
const observer2 = new Observer();
subject.attach(observer1);
subject.attach(observer2);
subject.setState({name:'hello world'})
</script>